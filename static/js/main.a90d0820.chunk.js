(this["webpackJsonpreact-infinite-scrolling-and-lazy-loading"]=this["webpackJsonpreact-infinite-scrolling-and-lazy-loading"]||[]).push([[0],{110:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(31),i=c.n(r),s=(c(75),c(76),c(22)),l=c(42),o=c(41),j=c.n(o);var u=c(116),d=c(117),b=c(118),h=c(115),O=c(114),f=(c(96),c(97),c.p+"static/media/vietname.1f00f178.jpg"),g=c(6),m=function(e){var t,c=e.article,n=e.isScrollVertical;return Object(g.jsxs)(u.a,{children:[Object(g.jsx)(d.a,{xs:24,sm:24,md:n?8:24,lg:n?6:8,className:"article_image_wrapper",children:Object(g.jsx)("img",{src:null!==(t=c.urlToImage)&&void 0!==t?t:f,alt:""})}),Object(g.jsxs)(d.a,{xs:24,sm:24,md:n?16:24,lg:n?18:24,className:"article_content",children:[Object(g.jsx)("a",{href:c.url,target:"_blank",className:"article_title",children:c.title}),Object(g.jsx)("div",{className:"article_description",children:c.description})]})]})},p=function(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(1),o=Object(s.a)(i,2),u=o[0],d=o[1],f=Object(n.useState)(!0),p=Object(s.a)(f,2),x=p[0],v=p[1],S=function(e,t){var c=Object(n.useState)(!1),a=Object(s.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)([]),O=Object(s.a)(h,2),f=O[0],g=O[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),x=p[0],v=p[1];return Object(n.useEffect)((function(){g([])}),[e]),Object(n.useEffect)((function(){var c;i(!0),b(!1);var n="".concat("https://tran-dinh-thang-news-api.herokuapp.com","/articles?page=").concat(t,"&pageSize=").concat(5);return e&&(n+="&q=".concat(e)),j()({method:"GET",url:n,cancelToken:new j.a.CancelToken((function(e){return c=e}))}).then((function(e){g((function(t){return Object(l.a)(new Set([].concat(Object(l.a)(t),Object(l.a)(e.data.articles))))})),v(t<e.data.maxPerPage),i(!1)})).catch((function(e){i(!1),b(!0),j.a.isCancel(e)})),function(){return c()}}),[e,t]),{loading:r,error:d,articles:f,hasMore:x}}(a,u),_=S.articles,N=S.hasMore,C=S.loading,k=(S.error,Object(n.useRef)()),w=Object(n.useCallback)((function(e){C||(k.current&&k.current.disconnect(),k.current=new IntersectionObserver((function(e){e[0].isIntersecting&&N&&d((function(e){return e+1}))})),e&&k.current.observe(e))}),[C,N]);return console.log(x),Object(g.jsxs)("div",{className:"articles_page_wrapper",children:[Object(g.jsxs)("div",{className:"articles_page_search",children:[Object(g.jsx)(b.a,{checkedChildren:"scroll vertical",unCheckedChildren:"scroll horizontal",checked:x,onChange:function(e){v(e)}}),Object(g.jsx)(h.a.Search,{value:a,onChange:function(e){r(e.target.value),d(1)},allowClear:!0,style:{width:300},placeholder:"Enter keyword ...",className:"search_input"})]}),Object(g.jsxs)("div",{className:"articles_page_body"+(x?"":" horizontal"),children:[_.map((function(e,t){return _.length===t+1?Object(g.jsx)("div",{className:"article_item",ref:w,children:Object(g.jsx)(m,{isScrollVertical:x,article:e})}):Object(g.jsx)("div",{className:"article_item",children:Object(g.jsx)(m,{isScrollVertical:x,article:e})})})),C?Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)(O.a,{})}):Object(g.jsx)(g.Fragment,{children:0===_.length&&Object(g.jsx)("div",{children:"No article"})})]})]})};var x=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(p,{})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,119)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root")),v()},75:function(e,t,c){},76:function(e,t,c){},96:function(e,t,c){}},[[110,1,2]]]);
//# sourceMappingURL=main.a90d0820.chunk.js.map