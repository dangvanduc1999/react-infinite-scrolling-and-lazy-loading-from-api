(this["webpackJsonpreact-infinite-scrolling-and-lazy-loading"]=this["webpackJsonpreact-infinite-scrolling-and-lazy-loading"]||[]).push([[0],{101:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(24),i=c.n(r),s=(c(66),c(67),c(20)),l=c(32),o=c(31),j=c.n(o);var u=c(107),d=c(108),b=c(106),O=c(105),f=(c(87),c(88),c.p+"static/media/vietname.1f00f178.jpg"),h=c(6),g=function(e){var t,c=e.article;return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(d.a,{xs:24,sm:24,md:8,lg:6,className:"article_image_wrapper",children:Object(h.jsx)("img",{src:null!==(t=c.image_url)&&void 0!==t?t:f,alt:""})}),Object(h.jsxs)(d.a,{xs:24,sm:24,md:16,lg:18,className:"article_content",children:[Object(h.jsx)("a",{href:c.url,target:"_blank",className:"article_title",children:c.title}),Object(h.jsx)("div",{className:"article_description",children:c.description})]})]})},m=function(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(1),o=Object(s.a)(i,2),u=o[0],d=o[1],f=function(e,t){var c=Object(n.useState)(!1),a=Object(s.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],b=u[1],O=Object(n.useState)([]),f=Object(s.a)(O,2),h=f[0],g=f[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),x=p[0],v=p[1];return Object(n.useEffect)((function(){g([])}),[e]),Object(n.useEffect)((function(){var c;i(!0),b(!1);var n="https://newsdata.io/api/1/news?apiKey=".concat("pub_133870ccd7a97cf8d509e72e53b6cc175278","&page=").concat(t);return e&&(n+="&q=".concat(e)),j()({method:"GET",url:n,cancelToken:new j.a.CancelToken((function(e){return c=e}))}).then((function(e){console.log(e.data),g((function(t){return Object(l.a)(new Set([].concat(Object(l.a)(t),Object(l.a)(e.data.results))))})),v(e.data.nextPage),i(!1)})).catch((function(e){i(!1),b(!0),j.a.isCancel(e)})),function(){return c()}}),[e,t]),{loading:r,error:d,articles:h,hasMore:x}}(a,u),m=f.articles,p=f.hasMore,x=f.loading,v=(f.error,Object(n.useRef)()),_=Object(n.useCallback)((function(e){x||(v.current&&v.current.disconnect(),v.current=new IntersectionObserver((function(e){e[0].isIntersecting&&p&&d((function(e){return e+1}))})),e&&v.current.observe(e))}),[x,p]);return console.log(u),console.log(a),Object(h.jsxs)("div",{className:"articles_page_wrapper",children:[Object(h.jsx)("div",{className:"articles_page_search",children:Object(h.jsx)(b.a.Search,{value:a,onChange:function(e){r(e.target.value),d(1)},allowClear:!0,style:{width:300},placeholder:"Enter keyword ...",className:"search_input"})}),Object(h.jsxs)("div",{className:"articles_page_body",children:[m.map((function(e,t){return m.length===t+1?Object(h.jsx)("div",{className:"article_item",ref:_,children:Object(h.jsx)(g,{article:e})}):Object(h.jsx)("div",{className:"article_item",children:Object(h.jsx)(g,{article:e})})})),x?Object(h.jsx)("div",{className:"loading",children:Object(h.jsx)(O.a,{})}):Object(h.jsx)(h.Fragment,{children:0===m.length&&Object(h.jsx)("div",{children:"No article"})})]})]})};var p=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(m,{})})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root")),x()},66:function(e,t,c){},67:function(e,t,c){},87:function(e,t,c){}},[[101,1,2]]]);
//# sourceMappingURL=main.8a58dc87.chunk.js.map